<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FRCR Part 1 Radiology Physics Quiz - Chapter 3</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #1a1a1a; /* Black background */
            color: #e0e0e0; /* White/light-gray text */
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align to top */
            min-height: 100vh;
            margin: 20px 0; /* Add some margin top/bottom for spacing */
            padding: 20px;
            box-sizing: border-box; /* Include padding in element's total width and height */
        }

        .quiz-container {
            background-color: #2b2b2b; /* Slightly lighter black for container */
            padding: 30px;
            border-radius: 12px; /* Rounded corners */
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4); /* Soft shadows */
            max-width: 800px; /* Centered layout */
            width: 100%;
            text-align: center;
        }

        h1 {
            color: #4CAF50; /* Green for headings */
            margin-bottom: 15px;
            font-size: 2em;
        }

        p {
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .question {
            background-color: #3a3a3a; /* Dark gray for question blocks */
            padding: 20px;
            margin-bottom: 25px;
            border-radius: 8px; /* Rounded corners */
            text-align: left;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); /* Soft shadows */
            border: 1px solid #4a4a4a; /* Subtle border */
        }

        .question p {
            font-weight: bold;
            margin-bottom: 15px;
            color: #d0d0d0;
            font-size: 1.05em;
        }

        .question label {
            display: inline-block;
            margin-right: 25px;
            cursor: pointer;
            font-size: 1em;
            color: #c0c0c0;
            transition: color 0.3s ease;
        }

        .question label:hover {
            color: #e0e0e0;
        }

        .question input[type="radio"] {
            margin-right: 8px;
            transform: scale(1.1); /* Slightly larger radio buttons */
            cursor: pointer;
        }

        .feedback {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
            display: none; /* Hidden by default */
            font-size: 0.95em;
        }

        .feedback.correct {
            background-color: #4CAF5040; /* Green with transparency */
            color: #4CAF50;
            border: 1px solid #4CAF50;
        }

        .feedback.incorrect {
            background-color: #f4433640; /* Red with transparency */
            color: #f44336;
            border: 1px solid #f44336;
        }

        details {
            margin-top: 15px;
            background-color: #3a3a3a;
            border: 1px solid #4a4a4a;
            border-radius: 8px;
            padding: 10px 15px;
            color: #d0d0d0;
            font-size: 0.95em;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        summary {
            font-weight: bold;
            cursor: pointer;
            padding: 5px 0;
            outline: none;
            color: #64B5F6; /* Blue for summary */
        }

        details p {
            margin-top: 10px;
            margin-bottom: 5px;
            font-weight: normal;
            font-size: 0.9em;
            line-height: 1.5;
            color: #c0c0c0;
        }
        
        details p strong {
            color: #fff; /* White for strong text in explanations */
        }

        .citation {
            font-style: italic;
            font-size: 0.8em;
            color: #999;
            margin-left: 5px;
        }

        .button-container {
            margin-top: 30px;
            text-align: center;
        }

        #resetQuiz {
            background-color: #64B5F6; /* Blue button */
            color: #1a1a1a;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease; /* Hover effects */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        #resetQuiz:hover {
            background-color: #42A5F5; /* Darker blue on hover */
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        /* Styles for disabled radio buttons after selection */
        .question.answered input[type="radio"] {
            pointer-events: none;
            opacity: 0.6;
        }
        .question.answered label {
            color: #808080;
            cursor: default;
        }
        .question.answered label:hover {
            color: #808080;
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>FRCR Part 1 Radiology Physics Quiz</h1>
        <p>This quiz is designed to test your deep understanding of concepts from <strong>Farr's Physics for Medical Imaging, 3rd edition â€“ Chapter 3: X-Ray Imaging</strong>. Select True or False for each statement.</p>

        <form id="quizForm">
            <!-- Question 1 -->
            <div class="question" data-correct-answer="False">
                <p>1. A steeper anode target angle in an X-ray tube will result in a less pronounced anode heel effect.</p>
                <label><input type="radio" name="q1" value="True"> True</label>
                <label><input type="radio" name="q1" value="False"> False</label>
                <div class="feedback"></div>
                <details>
                    <summary>Show Explanation and Correct Answer</summary>
                    <p>
                        <span class="original-explanation">
                            The anode heel effect becomes *more* pronounced with a steeper (smaller) target angle because X-rays traveling towards the anode edge have to traverse more target material, leading to greater attenuation.
                            <span class="citation">[1, p. 194]</span>
                        </span>
                    </p>
                </details>
            </div>

            <!-- Question 2 -->
            <div class="question" data-correct-answer="False">
                <p>2. Increasing the anode rotation speed in an X-ray tube reduces its heat rating.</p>
                <label><input type="radio" name="q2" value="True"> True</label>
                <label><input type="radio" name="q2" value="False"> False</label>
                <div class="feedback"></div>
                <details>
                    <summary>Show Explanation and Correct Answer</summary>
                    <p>
                        <span class="original-explanation">
                            The heat rating of an X-ray tube *increases* with increased anode rotation speed. Faster rotation spreads the heat generated over a larger area of the anode, allowing for greater heat dissipation.
                            <span class="citation">[1, p. 193]</span>
                        </span>
                    </p>
                </details>
            </div>

            <!-- Question 3 -->
            <div class="question" data-correct-answer="False">
                <p>3. The core of a rotating anode is lubricated with silver to improve its heat transfer properties.</p>
                <label><input type="radio" name="q3" value="True"> True</label>
                <label><input type="radio" name="q3" value="False"> False</label>
                <div class="feedback"></div>
                <details>
                    <summary>Show Explanation and Correct Answer</summary>
                    <p>
                        <span class="original-explanation">
                            The core of the anode (molybdenum or graphite) facilitates heat conduction to prevent damage, but the silver is used to lubricate the metal bearings and has *no effect on heat transfer*.
                            <span class="citation">[1, p. 191]</span>
                        </span>
                    </p>
                </details>
            </div>

            <!-- Question 4 -->
            <div class="question" data-correct-answer="False">
                <p>4. The focussing cup in an X-ray tube is positively charged to direct electrons towards the anode.</p>
                <label><input type="radio" name="q4" value="True"> True</label>
                <label><input type="radio" name="q4" value="False"> False</label>
                <div class="feedback"></div>
                <details>
                    <summary>Show Explanation and Correct Answer</summary>
                    <p>
                        <span class="original-explanation">
                            The focussing cup is *negatively charged* to electrostatically repel and focus the negatively charged electrons onto a limited area of the anode target.
                            <span class="citation">[1, p. 190]</span>
                        </span>
                    </p>
                </details>
            </div>

            <!-- Question 5 -->
            <div class="question" data-correct-answer="False">
                <p>5. Carbon fibre is typically chosen as interspace material in an anti-scatter grid due to its high attenuation properties.</p>
                <label><input type="radio" name="q5" value="True"> True</label>
                <label><input type="radio" name="q5" value="False"> False</label>
                <div class="feedback"></div>
                <details>
                    <summary>Show Explanation and Correct Answer</summary>
                    <p>
                        <span class="original-explanation">
                            Carbon fibre is used as the interspace material because it has *low attenuation* properties, allowing primary radiation to pass through unimpeded, unlike the high-attenuation lead strips.
                            <span class="citation">[1, p. 196]</span>
                        </span>
                    </p>
                </details>
            </div>

            <!-- Question 6 -->
            <div class="question" data-correct-answer="False">
                <p>6. A Rhenium/Molybdenum target/filter combination is optimally used for imaging dense breasts in mammography due to its higher energy X-ray spectrum.</p>
                <label><input type="radio" name="q6" value="True"> True</label>
                <label><input type="radio" name="q6" value="False"> False</label>
                <div class="feedback"></div>
                <details>
                    <summary>Show Explanation and Correct Answer</summary>
                    <p>
                        <span class="original-explanation">
                            A Rhenium/Molybdenum combination is *not used* in mammography. The Molybdenum filter would significantly attenuate the Rhenium characteristic X-rays, making it inefficient. For dense breasts, Molybdenum/Rhodium or Rhodium/Rhodium combinations are preferred.
                            <span class="citation">[1, p. 245]</span>
                        </span>
                    </p>
                </details>
            </div>

            <!-- Question 7 -->
            <div class="question" data-correct-answer="False">
                <p>7. Computed Radiography (CR) systems typically offer spatial resolutions superior to conventional analogue film-screen radiography.</p>
                <label><input type="radio" name="q7" value="True"> True</label>
                <label><input type="radio" name="q7" value="False"> False</label>
                <div class="feedback"></div>
                <details>
                    <summary>Show Explanation and Correct Answer</summary>
                    <p>
                        <span class="original-explanation">
                            The spatial resolution of CR is *less than* analogue film-screen radiography. CR systems typically yield 3.5-5.5 lp/mm, whereas film-screen resolution is 8-12 lp/mm.
                            <span class="citation">[1, p. 205-206]</span>
                        </span>
                    </p>
                </details>
            </div>

            <!-- Question 8 -->
            <div class="question" data-correct-answer="True">
                <p>8. The dose response curve for Computed Radiography (CR) systems is typically linear, allowing for a very wide dynamic range of 10,000:1.</p>
                <label><input type="radio" name="q8" value="True"> True</label>
                <label><input type="radio" name="q8" value="False"> False</label>
                <div class="feedback"></div>
                <details>
                    <summary>Show Explanation and Correct Answer</summary>
                    <p>
                        <span class="original-explanation">
                            CR systems indeed have a linear dose response and a very wide dynamic range (10,000:1), which contrasts with the characteristic curve of older film-screen systems.
                            <span class="citation">[1, p. 204]</span>
                        </span>
                    </p>
                </details>
            </div>

            <!-- Question 9 -->
            <div class="question" data-correct-answer="False">
                <p>9. Direct Digital Radiography (DR) systems can achieve Detective Quantum Efficiency (DQE) values in the range of 65%, which is significantly lower than Computed Radiography (CR) systems.</p>
                <label><input type="radio" name="q9" value="True"> True</label>
                <label><input type="radio" name="q9" value="False"> False</label>
                <div class="feedback"></div>
                <details>
                    <summary>Show Explanation and Correct Answer</summary>
                    <p>
                        <span class="original-explanation">
                            DR systems achieve a DQE of approximately 65%, which is *significantly higher* than the approximately 30% DQE achieved by CR systems. A higher DQE indicates better efficiency in photon detection and reduced noise.
                            <span class="citation">[1, p. 210]</span>
                        </span>
                    </p>
                </details>
            </div>

            <!-- Question 10 -->
            <div class="question" data-correct-answer="False">
                <p>10. In Direct Digital Radiography (DR) using amorphous selenium, the Thin-Film Transistor (TFT) layer primarily serves to directly convert X-ray photons into light.</p>
                <label><input type="radio" name="q10" value="True"> True</label>
                <label><input type="radio" name="q10" value="False"> False</label>
                <div class="feedback"></div>
                <details>
                    <summary>Show Explanation and Correct Answer</summary>
                    <p>
                        <span class="original-explanation">
                            In direct conversion DR, the amorphous selenium (photoconductor layer) absorbs X-ray photons and releases electrons. The TFT layer then *stores these charges* in storage capacitors, forming the latent image, rather than converting X-rays to light.
                            <span class="citation">[1, p. 211-212]</span>
                        </span>
                    </p>
                </details>
            </div>

            <!-- Question 11 -->
            <div class="question" data-correct-answer="True">
                <p>11. The interline transfer mode in Charge-Coupled Devices (CCDs) is the fastest acquisition mode but is half as efficient compared to full frame transfer.</p>
                <label><input type="radio" name="q11" value="True"> True</label>
                <label><input type="radio" name="q11" value="False"> False</label>
                <div class="feedback"></div>
                <details>
                    <summary>Show Explanation and Correct Answer</summary>
                    <p>
                        <span class="original-explanation">
                            Interline transfer is indeed very fast as every other line is shielded, allowing simultaneous acquisition and readout, but this shielding makes it half as efficient.
                            <span class="citation">[1, p. 215]</span>
                        </span>
                    </p>
                </details>
            </div>

            <!-- Question 12 -->
            <div class="question" data-correct-answer="True">
                <p>12. Pixel calibration in Digital Radiography (DR) interpolates surrounding pixel information to correct for white or black artefacts caused by damaged individual pixels or electronics.</p>
                <label><input type="radio" name="q12" value="True"> True</label>
                <label><input type="radio" name="q12" value="False"> False</label>
                <div class="feedback"></div>
                <details>
                    <summary>Show Explanation and Correct Answer</summary>
                    <p>
                        <span class="original-explanation">
                            "Detector drops" are white or black artefacts from damaged pixels, and "pixel calibration" is the process where the system interpolates data from surrounding pixels to correct these defects.
                            <span class="citation">[1, p. 218]</span>
                        </span>
                    </p>
                </details>
            </div>

            <!-- Question 13 -->
            <div class="question" data-correct-answer="False">
                <p>13. Applying a high-pass filter to a digital image primarily smoothes the image by averaging the greyscale values of neighboring pixels.</p>
                <label><input type="radio" name="q13" value="True"> True</label>
                <label><input type="radio" name="q13" value="False"> False</label>
                <div class="feedback"></div>
                <details>
                    <summary>Show Explanation and Correct Answer</summary>
                    <p>
                        <span class="original-explanation">
                            High-pass filtering is used for *edge enhancement* and works by exaggerating the contrast at boundaries, which can increase noise. *Low-pass filtering* is what smoothes the image by averaging neighboring pixel values.
                            <span class="citation">[1, p. 223-224]</span>
                        </span>
                    </p>
                </details>
            </div>

            <!-- Question 14 -->
            <div class="question" data-correct-answer="False">
                <p>14. According to the Nyquist criterion, the sampling frequency must be equal to the highest frequency present in the signal to avoid aliasing.</p>
                <label><input type="radio" name="q14" value="True"> True</label>
                <label><input type="radio" name="q14" value="False"> False</label>
                <div class="feedback"></div>
                <details>
                    <summary>Show Explanation and Correct Answer</summary>
                    <p>
                        <span class="original-explanation">
                            The Nyquist criterion states that the signal must be sampled at *least twice* in every cycle, meaning the sampling frequency must be *at least twice* the highest frequency present in the signal.
                            <span class="citation">[1, p. 225]</span>
                        </span>
                    </p>
                </details>
            </div>

            <!-- Question 15 -->
            <div class="question" data-correct-answer="False">
                <p>15. A Modulation Transfer Function (MTF) curve that remains closer to the top right corner of the plot indicates a lower resolution imaging system.</p>
                <label><input type="radio" name="q15" value="True"> True</label>
                <label><input type="radio" name="q15" value="False"> False</label>
                <div class="feedback"></div>
                <details>
                    <summary>Show Explanation and Correct Answer</summary>
                    <p>
                        <span class="original-explanation">
                            An MTF curve closer to the top right (unity response) indicates a *higher* resolution system, as it maintains greater fidelity at higher spatial frequencies. A lower resolution system would have a curve closer to the origin.
                            <span class="citation">[1, p. 227, 229f]</span>
                        </span>
                    </p>
                </details>
            </div>

            <!-- Question 16 -->
            <div class="question" data-correct-answer="False">
                <p>16. For a given X-ray exposure, reducing the kV will generally decrease subject contrast in an image.</p>
                <label><input type="radio" name="q16" value="True"> True</label>
                <label><input type="radio" name="q16" value="False"> False</label>
                <div class="feedback"></div>
                <details>
                    <summary>Show Explanation and Correct Answer</summary>
                    <p>
                        <span class="original-explanation">
                            Reduced kV generally *improves* subject contrast, particularly by increasing the photoelectric absorption effect relative to Compton scatter, leading to greater differentiation between tissues.
                            <span class="citation">[1, p. 230]</span>
                        </span>
                    </p>
                </details>
            </div>

            <!-- Question 17 -->
            <div class="question" data-correct-answer="False">
                <p>17. In the single-exposure method of dual-energy radiography, the rear plate typically has a higher signal-to-noise ratio (SNR) compared to the front plate due to the copper filter.</p>
                <label><input type="radio" name="q17" value="True"> True</label>
                <label><input type="radio" name="q17" value="False"> False</label>
                <div class="feedback"></div>
                <details>
                    <summary>Show Explanation and Correct Answer</summary>
                    <p>
                        <span class="original-explanation">
                            The rear plate receives *fewer incident photons* because the copper filter attenuates lower keV X-rays, resulting in a *lower SNR* in the tissue-selective image produced from it.
                            <span class="citation">[1, p. 238]</span>
                        </span>
                    </p>
                </details>
            </div>

            <!-- Question 18 -->
            <div class="question" data-correct-answer="False">
                <p>18. The input screen of an image intensifier is typically composed of Zinc Cadmium Sulphide doped with Silver (ZnCdS:Ag).</p>
                <label><input type="radio" name="q18" value="True"> True</label>
                <label><input type="radio" name="q18" value="False"> False</label>
                <div class="feedback"></div>
                <details>
                    <summary>Show Explanation and Correct Answer</summary>
                    <p>
                        <span class="original-explanation">
                            The input screen phosphor is composed of *Caesium Iodide crystals with Sodium (CsI:Na)*. Zinc Cadmium Sulphide doped with Silver (ZnCdS:Ag) is used for the *output screen*.
                            <span class="citation">[1, p. 251, 259]</span>
                        </span>
                    </p>
                </details>
            </div>

            <!-- Question 19 -->
            <div class="question" data-correct-answer="False">
                <p>19. Flat Panel Detectors (FPDs) used in fluoroscopy generally exhibit varying spatial resolution depending on the field of view selected, unlike image intensifiers.</p>
                <label><input type="radio" name="q19" value="True"> True</label>
                <label><input type="radio" name="q19" value="False"> False</label>
                <div class="feedback"></div>
                <details>
                    <summary>Show Explanation and Correct Answer</summary>
                    <p>
                        <span class="original-explanation">
                            One of the advantages of FPDs is that they maintain the *same spatial resolution for all fields of view*, determined by the detector element pitch. This contrasts with image intensifiers where spatial resolution degrades with magnification.
                            <span class="citation">[1, p. 263]</span>
                        </span>
                    </p>
                </details>
            </div>

            <!-- Question 20 -->
            <div class="question" data-correct-answer="False">
                <p>20. Pulsed fluoroscopy, despite rapid X-ray generator switching, can cause noticeable flickering if the pulse rate is significantly reduced below 25 pulses/s.</p>
                <label><input type="radio" name="q20" value="True"> True</label>
                <label><input type="radio" name="q20" value="False"> False</label>
                <div class="feedback"></div>
                <details>
                    <summary>Show Explanation and Correct Answer</summary>
                    <p>
                        <span class="original-explanation">
                            Even with rapid switching and reduced pulse rates (e.g., 15, 7.5, or 3.75 pulses/s), there is *no flickering* in pulsed fluoroscopy. This is because each image is retained on the display until a new image is generated, and the critical flicker frequency is not exceeded.
                            <span class="citation">[1, p. 267]</span>
                        </span>
                    </p>
                </details>
            </div>
        </form>

        <div class="button-container">
            <button id="resetQuiz">Reset Quiz</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const quizForm = document.getElementById('quizForm');
            const resetBtn = document.getElementById('resetQuiz');
            const questions = document.querySelectorAll('.question');

            // Store original explanations
            questions.forEach(questionDiv => {
                const explanationContent = questionDiv.querySelector('.original-explanation').innerHTML;
                questionDiv.dataset.originalExplanation = explanationContent;
            });

            // Function to handle answer selection
            const handleAnswer = (event) => {
                const selectedInput = event.target;
                if (selectedInput.type === 'radio') {
                    const questionDiv = selectedInput.closest('.question');
                    const feedbackDiv = questionDiv.querySelector('.feedback');
                    const correctAnswer = questionDiv.dataset.correctAnswer;
                    const userAnswer = selectedInput.value;
                    const explanationP = questionDiv.querySelector('details p');
                    
                    // Retrieve original explanation without citation span
                    let originalExplanationText = questionDiv.dataset.originalExplanation;
                    const citationSpan = originalExplanationText.match(/<span class="citation">.*?<\/span>/);
                    let citation = '';
                    if (citationSpan) {
                        citation = citationSpan;
                        originalExplanationText = originalExplanationText.replace(citationSpan, '').trim();
                    }

                    // Build the explanation text
                    let feedbackText = `<strong>Correct Answer: ${correctAnswer}</strong><br>`;
                    if (userAnswer === correctAnswer) {
                        feedbackDiv.className = 'feedback correct';
                        feedbackDiv.textContent = 'Correct!';
                    } else {
                        feedbackDiv.className = 'feedback incorrect';
                        feedbackDiv.textContent = 'Incorrect!';
                        feedbackText += `<strong>Your Answer: ${userAnswer}</strong><br>`;
                    }
                    feedbackText += originalExplanationText + citation;
                    explanationP.innerHTML = feedbackText;

                    // Show feedback
                    feedbackDiv.style.display = 'block';

                    // Disable radio buttons for this question
                    const radios = questionDiv.querySelectorAll('input[type="radio"]');
                    radios.forEach(radio => {
                        radio.disabled = true;
                    });
                    questionDiv.classList.add('answered');

                    // Open the explanation details automatically
                    questionDiv.querySelector('details').open = true;
                }
            };

            // Add event listeners for each question
            questions.forEach(questionDiv => {
                const radios = questionDiv.querySelectorAll('input[type="radio"]');
                radios.forEach(radio => {
                    radio.addEventListener('change', handleAnswer);
                });
            });

            // Reset quiz function
            resetBtn.addEventListener('click', () => {
                quizForm.reset(); // Reset form inputs
                questions.forEach(questionDiv => {
                    // Hide feedback and close details
                    questionDiv.querySelector('.feedback').style.display = 'none';
                    questionDiv.querySelector('.feedback').className = 'feedback'; // Reset class
                    questionDiv.querySelector('details').open = false;

                    // Re-enable radio buttons
                    const radios = questionDiv.querySelectorAll('input[type="radio"]');
                    radios.forEach(radio => {
                        radio.disabled = false;
                    });
                    questionDiv.classList.remove('answered');

                    // Restore original explanation content
                    questionDiv.querySelector('details p').innerHTML = `<span class="original-explanation">${questionDiv.dataset.originalExplanation}</span>`;
                });
            });
        });
    </script>
</body>
</html>